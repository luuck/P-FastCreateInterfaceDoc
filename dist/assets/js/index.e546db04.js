webpackJsonp([1],{"0CCo":function(t,e){},"7LCn":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n("7+uW"),r=n("/ocq"),i=n("woOf"),s=n.n(i),o=[],l=[],u=function(t){o=t},c=function(t){l=t},p=[],m=[],h=function(t){p=t},d=function(t){m=t},f=[],b=[],v=function(t){f=t},g=function(t){b=t},y=[{title:"获取活动初始化信息",name:"xxx",urlName:"getActInfos",type:"get",requestJsonStr:"{}",responseJsonStr:'{\n            "ActList": [{ //活动信息\n                "ActId": 0, //活动编号\n                "ActName": "活动一", //活动名称\n                "Status": 0, //状态\n                "StartTime": 0, //活动开始时间\n                "EndTime": 0 //活动结束时间\n            }],\n            "ServerTimeStamp": 0 //服务器时间,时间戳\n        }'},{title:"获取奖励记录",name:"xxx",urlName:"getRewardlist",type:"get",requestJsonStr:'{\n            "PageIndex": 1, //当前页码\n            "PageSize": 5 //当前页长\n        }',responseJsonStr:'{\n            "RecordCount": 0, //总的页数\n            "List": [{ //List的数组对象\n                "Id":1, //Id\n                "PrizeName": "100-10元豆券", //奖项名称\n                "PrizeDate": "12-01 12：00", //奖励时间\n                "PrizeAbout": "" //备注\n            }]\n        }'},{title:"获取获奖名单",name:"xxx",urlName:"getLastestLotteryRecord",type:"get",requestJsonStr:"{\n        }",responseJsonStr:'{\n            "UserName": "c***ele", //用户名\n            "PrizeName": "100妖豆豆" //奖励名称\n        }'},{title:"获取奖励结果",name:"xxx",urlName:"getLottery",type:"post",requestJsonStr:"{\n        }",responseJsonStr:'{\n            "PrizeId": 1, //与后端约定的奖励ID值\n            "PrizeName": "100妖豆豆" //奖励名称\n        }'},{title:"获取当前用户等级",name:"xxx",urlName:"getVipGrade",type:"get",requestJsonStr:"{\n        }",responseJsonStr:'{\n            "VipGrade": 1 //vip等级\n        }'},{title:"妖豆豆兑换妖券",name:"xxx",urlName:"yddExchange",type:"get",requestJsonStr:"{\n        }",responseJsonStr:"{\n        }"},{title:"获取妖豆豆数量",name:"xxx",urlName:"getYddCount",type:"get",requestJsonStr:"{\n        }",responseJsonStr:'{\n             "YddCount": 1 //妖豆豆数量\n        }'},{title:"获取妖币数量",name:"xxx",urlName:"getYbCount",type:"get",requestJsonStr:"{\n        }",responseJsonStr:'{\n            "YbCount": 1 //妖币数量\n        }'},{title:"获取抽奖次数",name:"xxx",urlName:"getLotteryCount",type:"get",requestJsonStr:"{\n        }",responseJsonStr:'{\n            "Count": 1 //抽奖次数\n        }'},{title:"获取用户银两",name:"xxx",urlName:"getSilver",type:"post",requestJsonStr:"{\n        }",responseJsonStr:'{\n            "Silver": 312312 //用户银两数目\n        }'}],x=[],S=[];function _(t){var e,n,a,r,i=/"|(\/\*)|(\*\/)|(\/\/)|\n|\r/g,s=!1,o=!1,l=!1,u=[],c=0,p=0;for(i.lastIndex=0;e=i.exec(t);)a=RegExp.leftContext,r=RegExp.rightContext,o||l||(n=a.substring(p),s||(n=n.replace(/(\n|\r|\s)*/g,"")),u[c++]=n),p=i.lastIndex,'"'!=e[0]||o||l?"/*"!=e[0]||s||o||l?"*/"!=e[0]||s||!o||l?"//"!=e[0]||s||o||l?"\n"!=e[0]&&"\r"!=e[0]||s||o||!l?o||l||/\n|\r|\s/.test(e[0])||(u[c++]=e[0]):l=!1:l=!0:o=!1:o=!0:(n=a.match(/(\\)*$/),s&&n&&n[0].length%2!=0||(s=!s),p--,r=t.substring(p));return u[c++]=r,u.join("")}var w=n("mvHQ"),C=n.n(w);function D(t){return"string"!=typeof t&&(t=C()(t,void 0,2)),(t=t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")).replace(/("(\\u[a-zA-Z0-9]{4}|\\[^u]|[^\\"])*"(\s*:)?|\b(true|false|null)\b|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?)/g,function(t){var e="number";return/^"/.test(t)?e=/:$/.test(t)?"key":"string":/true|false/.test(t)?e="boolean":/null/.test(t)&&(e="null"),'<span class="'+e+'">'+t+"</span>"})}var J='{\n    title: \'获取妖币数量\', //接口名称\n    name: \'4zn\', //项目名称\n    urlName: \'getYbCount\', //接口\n    type: \'get\', //接口类型\n    requestJsonStr: `{\n        "type": 1 //类型\n    }`, //请求参数\n    responseJsonStr: `{\n        "YbCount": 0, //妖币数量\n        "Rate": { //Rate对象\n            "Rate1": 1, // Rate1\n            "Rate2": 2 // Rate1\n        },\n        "List": [] //列表\n    }` //返回参数\n}';function j(t,e){var n="pc"==e.type?0:"mobile"==e.type?1:2;return function(t){return"{\n        title: '"+t.title+"', //接口名称\n        name: '"+t.name+"', //项目名称\n        urlName: '"+t.urlName+"', //接口\n        type: '"+t.type+"', //接口类型\n        requestJsonStr: `"+D(t.requestJsonStr)+"`, //请求参数\n        responseJsonStr: `"+D(t.responseJsonStr)+"` //返回参数\n    }"}([y,x,S][n][t])}function N(t){var e="mobile"==t.type,n="admin"==t.type;return"pc"==t.type?o:n?f:e?p:[]}function $(t,e){var n=[],a=["pc","mobile","admin"];return t.forEach(function(t,r){var i=s()({},{id:parseInt(r)+1,name:t.title,type:a[e],description:""});n.push(i)}),n}function I(t,e){var n=t;for(var a in n){n[a].id=parseInt(a)+1;var r=_(n[a].requestJsonStr),i=""==r?"{}":r;n[a].requestParams=JSON.parse(i),n[a].responseParams=JSON.parse(_(n[a].responseJsonStr))}return n}function R(){for(var t=[u,h,v],e=[c,d,g],n=[y,x,S],a=0;a<3;a++)t[a]($(n[a],a)),e[a](I(n[a]),a)}var L={data:function(){return{formInline:{name:"",type:"pc"},tableData:[]}},mounted:function(){this.tableData=N(this.formInline)},methods:{_updateTableData:function(){this.tableData=N(this.formInline)},_handleSelect:function(){var t=this,e=[],n=new RegExp(this.formInline.name),a=[],r=[];this._updateTableData();for(var i=0;i<this.tableData.length;i++)a.push(this.tableData[i].name),r.push(this.tableData[i].id);return a.forEach(function(a,i){a.match(n)&&e.push(t.tableData[r[i]-1])}),e},handelGeneratorMulti:function(){this.$bus.emit("handelGeneratorMulti","")},onSubmit:function(){var t=this._handleSelect();this.$bus.emit("selectSearchItem",t)}}},k={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:t.formInline}},[n("el-form-item",{attrs:{label:"接口名称"}},[n("el-input",{staticClass:"ipt1",attrs:{placeholder:"接口名称"},model:{value:t.formInline.name,callback:function(e){t.$set(t.formInline,"name",e)},expression:"formInline.name"}})],1),n("br"),t._v(" "),n("el-form-item",{attrs:{label:"所属平台"}},[n("el-select",{staticClass:"ipt2",attrs:{placeholder:"所属平台"},model:{value:t.formInline.type,callback:function(e){t.$set(t.formInline,"type",e)},expression:"formInline.type"}},[n("el-option",{attrs:{label:"pc",value:"pc"}}),t._v(" "),n("el-option",{attrs:{label:"mobile",value:"mobile"}}),t._v(" "),n("el-option",{attrs:{label:"admin",value:"admin"}})],1)],1),t._v(" "),n("el-form-item",{staticClass:"btn"},[n("el-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("查询")]),t._v(" "),n("el-button",{attrs:{type:"primary",plain:""},on:{click:t.handelGeneratorMulti}},[t._v("生成")])],1)],1)],1)},staticRenderFns:[]};var T=n("VU/8")(L,k,!1,function(t){n("HwnM")},"data-v-f6167ed6",null).exports,q=n("fZjL"),E=n.n(q),P=n("pFYg"),M=n.n(P),H=n("Zrlr"),O=n.n(H),z=n("wxAW"),G=n.n(z),V={number:{type:"number",must:"是",default:0,about:"",limit:"-"},string:{type:"string",must:"是",default:'""',about:"",limit:"-"},boolean:{type:"bool",must:"是",default:!0,about:"",limit:"-"},object:{type:"object",must:"是",default:"{}",about:"-",limit:"-"},array:{type:"array",must:"是",default:"[]",about:"",limit:"-"}},A={other:{re:'":(?:[^}]*?),(?:/{2})?(.*?)("|})+',re1:'":(?:[^}]*?)(?:/{2})(.*?)("|})+'},object:{re:'":(?:[^}]*?)},(?:/{2})?(.*?)"',re1:'":(?:[^}]*?)}(?:/{2})(.*?)}'},array:{re:'":(?:[^}]*?)],(?:/{2})?(.*?)"',re1:'":(?:[^}]*?)(?:/{2})(.*?)}'}},F=function(){function t(e,n,a){return O()(this,t),this.html="",this.preLine=0,this.arrPre=[],this.jsonType=n,this.jsonData=e,this.valData=a.replace(/\s+/g,""),this}return G()(t,[{key:"getM",value:function(t,e,n){var a=new RegExp("object"===t?'"'+e+'":{//':'"'+e+'":\\[{//',"i").exec(n);return n.split(a[0])[1].concat().split('"')[0]}},{key:"getNote",value:function(t,e){var n="other",a=Object.prototype.toString.call(e);"[object Object]"===a?n="object":"[object Array]"===a&&(n="array");var r=new RegExp('"'+t+A[n].re,"i"),i=new RegExp('"'+t+A[n].re1,"i"),s=r.exec(this.valData)||i.exec(this.valData);if("object"===n)return this.getM(n,t,this.valData);var o="";if("array"===n){var l=new RegExp('"'+t+'":',"i").exec(this.valData);o=this.valData.split(l[0])[1].substr(0,2)}return"[{"===o?this.getM(n,t,this.valData):s?decodeURI(s[1]):""}},{key:"getHtmlReq",value:function(t,e,n){return"| "+e+" |"+V[t].type+" | "+V[t].must+" | "+V[t].default+" | "+this.getNote(e,n[e])+" | "+V[t].limit+" | \n"}},{key:"getHtmlRes",value:function(t,e,n){return"| "+e+" |"+V[t].type+" | "+this.getNote(e,n[e])+" | "+V[t].limit+"  | \n"}},{key:"handleNotObject",value:function(t,e,n,a){t&&1===this.jsonType?this.html+=this.getHtmlReq(e,n,a):t&&2===this.jsonType&&(this.html+=this.getHtmlRes(e,n,a))}},{key:"eachJsonData",value:function(t){var e=t||this.jsonData;for(var n in e){var a=M()(e[n]),r="number"===a||"boolean"===a||"string"===a;if(this.handleNotObject(r,a,n,e),"object"===a&&null!==e[n]){a="[object Object]"===Object.prototype.toString.call(e[n])?"object":"array",this.preLine++,this.arrPre=[];var i="[object Object]"==Object.prototype.toString.call(e[n]),s="[object Object]"==Object.prototype.toString.call(e[n][0]);i||s||this.preLine--;for(var o=0;o<this.preLine;o++)this.arrPre.push("—");var l=this.arrPre.concat("").toString().replace(/\,/g,"");0!=n&&(this.html+="|"+l+" "+n+" | "+V[a].type+" | "+this.getNote(n,e[n])+" | "+V[a].limit+" | \n"),(i||s)&&this.eachJsonData(e[n]),this.preLine--}}}},{key:"handleJson",value:function(){return null!=this.jsonData&&E()(this.jsonData).length>0?(1===this.jsonType?this.html+="\n|名称|必选|类型|默认值|说明|限制长度说明|\n|:----    |:---|:----- |-----   |-----   |-----   |\n":this.html+="\n|名称|类型|说明|限制长度说明|\n|:-------|:-------|:-------|:-------|\n",this.eachJsonData()):this.html+="暂无\n",this.html}}]),t}();function Y(t,e,n){return new F(t,e,n).handleJson()}function U(t){var e,n={Code:0,Data:function(t){return null!=t.responseParams&&E()(t.responseParams).length>0?t.responseParams:null}(t),Message:""};return"\n**请求参数：**\n"+Y(t.requestParams,1,t.requestJsonStr)+"\n**请求示例：**\n```\n"+(null!=(e=t.requestParams)&&E()(e).length>0?C()(e,null,2):"{}")+" \n\n```\n**返回参数：**\n"+Y(t.responseParams,2,t.responseJsonStr)+" \n\n**返回示例：**\n```\n"+C()(n,null,2)+" \n\n```"}function W(t){var e=[];return e.push(t),Z(e)}function Z(t){var e=[l,m,b],n="";return t.forEach(function(t){var a=t.id,r="pc"==t.type?1:"mobile"==t.type?2:3;n+=function(t,e){return function(t,e){return"\n### 接口"+e+":"+t.title+" \n\n**简要描述：** \n\n- "+t.title+" \n\n**请求url：** \n\n- `/api/"+t.name+"/"+t.urlName+"` \n\n**请求方式：** \n\n- `"+t.type+"`\n"}(t,e)+U(t)}(e[r-1][a-1],a)}),n}var B=n("162o"),K={data:function(){return{tableStyle:{height:""},dialogTitle:"",dialogHtml:"",dialogVisible:!1,tableData3:[],multipleSelection:[]}},methods:{updateTableHeight:function(){var t=window.innerHeight;this.tableStyle.height=.7*t+"px";var e=this;Object(B.setTimeout)(function(){e.$bus.emit("updateHeight",parseInt(.7*t)+83+"px")},20)},initData:function(){this.tableData3=N({type:"pc"})},_tipSuccess:function(){this.$message({message:"你很厉害喔，恭喜你，生成成功啦",type:"success"})},_tipFail:function(){this.$message.error("还差那么一点，请先选中喔")},check:function(t,e){this.dialogHtml='<pre class="string">'+j(t,e)+"</pre>",this.dialogTitle="查看-【"+e.name+"】接口配置项",this.dialogVisible=!0},handelGeneratorSingle:function(t,e){var n=this;this.tableData3.forEach(function(t){t.id===e.id&&(n._tipSuccess(),n.$bus.emit("generatorContentSingle",W(e)))})},handelGeneratorMulti:function(){var t=[];this.multipleSelection.forEach(function(e){t.push(e)}),t.length?this._tipSuccess():this._tipFail(),this.$bus.emit("generatorContentMulti",Z(t)),this.$refs.multipleTable.clearSelection()},handleSelectionChange:function(t){this.multipleSelection=t}},created:function(){this.initData()},mounted:function(){this.updateTableHeight();var t=this;this.$bus.on("selectSearchItem",function(e){t.tableData3=e}),this.$bus.on("handelGeneratorMulti",function(){t.handelGeneratorMulti()}),window.onresize=function(){t.updateTableHeight()}}},Q={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"m-tabel",style:t.tableStyle},[n("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:t.tableData3,border:"","tooltip-effect":"dark",height:"100%"},on:{"selection-change":t.handleSelectionChange}},[n("el-table-column",{attrs:{fixed:"",type:"selection",width:"40px"}}),t._v(" "),n("el-table-column",{attrs:{fixed:"",prop:"id",label:"ID",width:"40px"}}),t._v(" "),n("el-table-column",{attrs:{prop:"name",label:"接口名称"}}),t._v(" "),n("el-table-column",{attrs:{prop:"type",label:"所属平台",width:"100px"}}),t._v(" "),n("el-table-column",{attrs:{label:"操作",width:"180px"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{attrs:{size:"mini",type:"success",plain:""},on:{click:function(n){t.check(e.$index,e.row)}}},[t._v("查看")]),t._v(" "),n("el-button",{attrs:{size:"mini",type:"primary",plain:""},on:{click:function(n){t.handelGeneratorSingle(e.$index,e.row)}}},[t._v("生成")])]}}])})],1),t._v(" "),n("el-dialog",{attrs:{title:t.dialogTitle,visible:t.dialogVisible,width:"540px"},on:{"update:visible":function(e){t.dialogVisible=e}}},[n("span",{domProps:{innerHTML:t._s(t.dialogHtml)}}),t._v(" "),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{type:"primary"},on:{click:function(e){t.dialogVisible=!1}}},[t._v("确 定")])],1)])],1)},staticRenderFns:[]};var X=n("VU/8")(K,Q,!1,function(t){n("mAlW")},"data-v-4d3b2bf6",null).exports,tt={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"m-box",style:t.heightStyle},[t._m(0),t._v(" "),n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.desc,expression:"desc"}],staticStyle:{resize:"none"},style:t.heightStyle,attrs:{maxlength:"200",placeholder:"生成的内容"},domProps:{value:t.desc},on:{input:[function(e){e.target.composing||(t.desc=e.target.value)},t.descInput]}}),t._v(" "),n("div",{staticClass:"btn-copy"},[n("el-button",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:t.desc,expression:"desc",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:t.onCopy,expression:"onCopy",arg:"success"},{name:"clipboard",rawName:"v-clipboard:error",value:t.onError,expression:"onError",arg:"error"}],staticClass:"ml10",attrs:{type:"text",size:"medium"},on:{click:t.copyFn}},[t._v("点击复制")])],1)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("h3",[e("span",{staticClass:"el-breadcrumb__inner",attrs:{role:"link"}},[this._v("接口文档MarkDown格式")])])}]};var et=n("VU/8")({data:function(){return{desc:"",heightStyle:{height:""}}},methods:{descInput:function(){},copyFn:function(){""==this.desc&&this.$notify.error({title:"提示",message:"数据为空，复制失败",duration:2e3})},onCopy:function(t){this.$notify({title:"提示",message:"复制成功",type:"success",duration:2e3})},onError:function(t){this.$notify.error({title:"提示",message:"复制失败",duration:2e3})}},mounted:function(){var t=this;this.$bus.on("generatorContentSingle",function(e){t.desc=e}),this.$bus.on("generatorContentMulti",function(e){t.desc=e}),this.$bus.on("selectSearchItem",function(e){t.desc=""}),this.$bus.on("updateHeight",function(e){t.heightStyle.height=e})}},tt,!1,function(t){n("Mi5+")},null,null).exports,nt={data:function(){return{fullscreenLoading:!0}},components:{Search:T,Table:X,Result:et},methods:{hideLoading:function(){var t=this;setTimeout(function(){t.fullscreenLoading=!1},1e3)},open:function(){var t='按照以下格式进行配置：<pre class="string">'+D(J)+"</pre>";this.$alert(t,"如何新增公用接口?",{confirmButtonText:"确定",dangerouslyUseHTMLString:!0,callback:function(t){}})}},created:function(){R(),this.hideLoading()}},at={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"m-wrap"},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.fullscreenLoading,expression:"fullscreenLoading"}],staticClass:"el-loading-spinner"},[n("svg",{staticClass:"circular",attrs:{viewBox:"25 25 50 50"}},[n("circle",{staticClass:"path",attrs:{cx:"50",cy:"50",r:"20",fill:"none"}})])]),t._v(" "),n("transition",{attrs:{name:"el-fade-in-linear"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:!t.fullscreenLoading,expression:"!fullscreenLoading"}],staticClass:"m-wrap-con"},[n("header",[n("el-breadcrumb",{staticClass:"title",attrs:{"separator-class":"el-icon-arrow-right"}},[n("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[t._v("首页")]),t._v(" "),n("el-breadcrumb-item",[t._v("公用接口文档生成")])],1),t._v(" "),n("el-button",{staticClass:"btn-add",attrs:{type:"text"},on:{click:t.open}},[t._v("（如何新增公用接口？）")])],1),t._v(" "),n("Search"),t._v(" "),n("Table"),t._v(" "),n("Result")],1)])],1)},staticRenderFns:[]};var rt=n("VU/8")(nt,at,!1,function(t){n("0CCo")},null,null).exports;a.default.use(r.a);var it=[{path:"/",component:rt,meta:{title:"admin-快速生成接口"}}],st=new r.a({mode:"history",routes:it}),ot=n("fC7K"),lt=n("mtWM"),ut=n.n(lt),ct=n("//Fk"),pt=n.n(ct),mt=n("Dd8w"),ht=n.n(mt),dt=function(t){ut.a.defaults.timeout=5e3,ut.a.defaults.headers["Content-Type"]="application/json",ut.a.interceptors.request.use(function(t){return"post"===t.method?t.data=ht()({},t.data,{_t:Date.parse(new Date)/1e3}):"get"===t.method&&(t.params=ht()({_t:Date.parse(new Date)/1e3},t.params)),t},function(t){return pt.a.reject(t)}),t.prototype.$http=ut.a},ft=n("NYxO");a.default.use(ft.a);var bt=new ft.a.Store({state:{},getters:{},mutations:{},actions:{}}),vt=(n("991W"),n("zL8q")),gt=n.n(vt),yt=(n("tvR6"),n("wvfG")),xt=n.n(yt);dt(a.default),a.default.use(ot.a),a.default.prototype.$axios=ut.a,a.default.use(gt.a),a.default.use(xt.a),new a.default({el:"#app",router:st,store:bt})},"991W":function(t,e){},HwnM:function(t,e){},"Mi5+":function(t,e){},mAlW:function(t,e){},tvR6:function(t,e){}},["7LCn"]);