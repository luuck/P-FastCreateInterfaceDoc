webpackJsonp([1],{"7LCn":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n("7+uW"),i=n("/ocq"),s=n("woOf"),r=n.n(s),o=[],l=[],c=function(t){o=t},u=function(t){l=t},p=[],h=[],d=function(t){p=t},m=function(t){h=t},f=[],v=[],b=function(t){f=t},g=function(t){v=t},y=[{title:"获取活动初始化信息",name:"xxx",urlName:"getActInfos",type:"get",requestJsonStr:"{}",responseJsonStr:'{\n            "ActList": [{ //活动信息\n                "ActId": 0, //活动编号\n                "ActName": "活动一", //活动名称\n                "Status": 0, //状态\n                "StartTime": 0, //活动开始时间\n                "EndTime": 0 //活动结束时间\n            }],\n            "ServerTimeStamp": 0 //服务器时间,时间戳\n        }'},{title:"获取奖励记录",name:"xxx",urlName:"getRewardlist",type:"get",requestJsonStr:'{\n            "PageIndex": 1, //当前页码\n            "PageSize": 5 //当前页长\n        }',responseJsonStr:'{\n            "RecordCount": 0, //总的页数\n            "List": [{ //List的数组对象\n                "Id":1, //Id\n                "PrizeName": "100-10元豆券", //奖项名称\n                "PrizeDate": "12-01 12：00", //奖励时间\n                "PrizeAbout": "" //备注\n            }]\n        }'},{title:"获取获奖名单",name:"xxx",urlName:"getLastestLotteryRecord",type:"get",requestJsonStr:"{\n        }",responseJsonStr:'{\n            "UserName": "c***ele", //用户名\n            "PrizeName": "100妖豆豆" //奖励名称\n        }'},{title:"获取奖励结果",name:"xxx",urlName:"getLottery",type:"post",requestJsonStr:"{\n        }",responseJsonStr:'{\n            "PrizeId": 1, //与后端约定的奖励ID值\n            "PrizeName": "100妖豆豆" //奖励名称\n        }'},{title:"获取当前用户等级",name:"xxx",urlName:"getVipGrade",type:"get",requestJsonStr:"{\n        }",responseJsonStr:'{\n            "VipGrade": 1 //vip等级\n        }'},{title:"妖豆豆兑换妖券",name:"xxx",urlName:"yddExchange",type:"get",requestJsonStr:"{\n        }",responseJsonStr:"{\n        }"},{title:"获取妖豆豆数量",name:"xxx",urlName:"getYddCount",type:"get",requestJsonStr:"{\n        }",responseJsonStr:'{\n             "YddCount": 1 //妖豆豆数量\n        }'},{title:"获取妖币数量",name:"xxx",urlName:"getYbCount",type:"get",requestJsonStr:"{\n        }",responseJsonStr:'{\n            "YbCount": 1 //妖币数量\n        }'},{title:"获取抽奖次数",name:"xxx",urlName:"getLotteryCount",type:"get",requestJsonStr:"{\n        }",responseJsonStr:'{\n            "Count": 1 //抽奖次数\n        }'},{title:"获取用户银两",name:"xxx",urlName:"getSilver",type:"post",requestJsonStr:"{\n        }",responseJsonStr:'{\n            "Silver": 312312 //用户银两数目\n        }'}],x=[],S=[];function _(t){var e,n,a,i,s=/"|(\/\*)|(\*\/)|(\/\/)|\n|\r/g,r=!1,o=!1,l=!1,c=[],u=0,p=0;for(s.lastIndex=0;e=s.exec(t);)a=RegExp.leftContext,i=RegExp.rightContext,o||l||(n=a.substring(p),r||(n=n.replace(/(\n|\r|\s)*/g,"")),c[u++]=n),p=s.lastIndex,'"'!=e[0]||o||l?"/*"!=e[0]||r||o||l?"*/"!=e[0]||r||!o||l?"//"!=e[0]||r||o||l?"\n"!=e[0]&&"\r"!=e[0]||r||o||!l?o||l||/\n|\r|\s/.test(e[0])||(c[u++]=e[0]):l=!1:l=!0:o=!1:o=!0:(n=a.match(/(\\)*$/),r&&n&&n[0].length%2!=0||(r=!r),p--,i=t.substring(p));return c[u++]=i,c.join("")}var C=n("mvHQ"),w=n.n(C);function D(t){return"string"!=typeof t&&(t=w()(t,void 0,2)),(t=t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")).replace(/("(\\u[a-zA-Z0-9]{4}|\\[^u]|[^\\"])*"(\s*:)?|\b(true|false|null)\b|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?)/g,function(t){var e="number";return/^"/.test(t)?e=/:$/.test(t)?"key":"string":/true|false/.test(t)?e="boolean":/null/.test(t)&&(e="null"),'<span class="'+e+'">'+t+"</span>"})}var j='{\n    title: \'获取妖币数量\', //接口名称\n    name: \'4zn\', //项目名称\n    urlName: \'getYbCount\', //接口\n    type: \'get\', //接口类型\n    requestJsonStr: `{\n        "type": 1 //类型\n    }`, //请求参数\n    responseJsonStr: `{\n        "YbCount": 0, //妖币数量\n        "Rate": { //Rate对象\n            "Rate1": 1, // Rate1\n            "Rate2": 2 // Rate1\n        },\n        "List": [] //列表\n    }` //返回参数\n}';function J(t,e){var n="pc"==e.type?0:"mobile"==e.type?1:2;return function(t){return"{\n        title: '"+t.title+"', //接口名称\n        name: '"+t.name+"', //项目名称\n        urlName: '"+t.urlName+"', //接口\n        type: '"+t.type+"', //接口类型\n        requestJsonStr: `"+D(t.requestJsonStr)+"`, //请求参数\n        responseJsonStr: `"+D(t.responseJsonStr)+"` //返回参数\n    }"}([y,x,S][n][t])}function $(t){var e="mobile"==t.type,n="admin"==t.type;return"pc"==t.type?o:n?f:e?p:[]}function N(t,e){var n=[],a=["pc","mobile","admin"];return t.forEach(function(t,i){var s=r()({},{id:parseInt(i)+1,name:t.title,type:a[e],description:""});n.push(s)}),n}function k(t,e){var n=t;for(var a in n){n[a].id=parseInt(a)+1;var i=_(n[a].requestJsonStr),s=""==i?"{}":i;n[a].requestParams=JSON.parse(s),n[a].responseParams=JSON.parse(_(n[a].responseJsonStr))}return n}function I(){for(var t=[c,d,b],e=[u,m,g],n=[y,x,S],a=0;a<3;a++)t[a](N(n[a],a)),e[a](k(n[a]),a)}var R={data:function(){return{formInline:{name:"",type:"pc"},tableData:[]}},mounted:function(){this.tableData=$(this.formInline)},methods:{_updateTableData:function(){this.tableData=$(this.formInline)},_handleSelect:function(){var t=this,e=[],n=new RegExp(this.formInline.name),a=[],i=[];this._updateTableData();for(var s=0;s<this.tableData.length;s++)a.push(this.tableData[s].name),i.push(this.tableData[s].id);return a.forEach(function(a,s){a.match(n)&&e.push(t.tableData[i[s]-1])}),e},handelGeneratorMulti:function(){this.$bus.emit("handelGeneratorMulti","")},onSubmit:function(){var t=this._handleSelect();this.$bus.emit("selectSearchItem",t)}}},E={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:t.formInline}},[n("el-form-item",{attrs:{label:"接口名称"}},[n("el-input",{staticClass:"ipt1",attrs:{placeholder:"接口名称"},model:{value:t.formInline.name,callback:function(e){t.$set(t.formInline,"name",e)},expression:"formInline.name"}})],1),n("br"),t._v(" "),n("el-form-item",{attrs:{label:"所属平台"}},[n("el-select",{staticClass:"ipt2",attrs:{placeholder:"所属平台"},model:{value:t.formInline.type,callback:function(e){t.$set(t.formInline,"type",e)},expression:"formInline.type"}},[n("el-option",{attrs:{label:"pc",value:"pc"}}),t._v(" "),n("el-option",{attrs:{label:"mobile",value:"mobile"}}),t._v(" "),n("el-option",{attrs:{label:"admin",value:"admin"}})],1)],1),t._v(" "),n("el-form-item",{staticClass:"btn"},[n("el-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("查询")]),t._v(" "),n("el-button",{attrs:{type:"primary",plain:""},on:{click:t.handelGeneratorMulti}},[t._v("生成")])],1)],1)],1)},staticRenderFns:[]};var T=n("VU/8")(R,E,!1,function(t){n("qCZD")},"data-v-3d9eda50",null).exports,L=n("fZjL"),M=n.n(L),P=n("pFYg"),q=n.n(P),O=n("Zrlr"),H=n.n(O),V=n("wxAW"),F=n.n(V),G={number:{type:"number",must:"是",default:0,about:"",limit:"-"},string:{type:"string",must:"是",default:'""',about:"",limit:"-"},boolean:{type:"bool",must:"是",default:!0,about:"",limit:"-"},object:{type:"object",must:"是",default:"{}",about:"-",limit:"-"},array:{type:"array",must:"是",default:"[]",about:"",limit:"-"}},z={other:{re:'":(?:[^}]*?),(?:/{2})?(.*?)("|})+',re1:'":(?:[^}]*?)(?:/{2})(.*?)("|})+'},object:{re:'":(?:[^}]*?)},(?:/{2})?(.*?)"',re1:'":(?:[^}]*?)}(?:/{2})(.*?)}'},array:{re:'":(?:[^}]*?)],(?:/{2})?(.*?)"',re1:'":(?:[^}]*?)(?:/{2})(.*?)}'}},Y=function(){function t(e,n,a){return H()(this,t),this.html="",this.preLine=0,this.arrPre=[],this.jsonType=n,this.jsonData=e,this.valData=a.replace(/\s+/g,""),this}return F()(t,[{key:"getM",value:function(t,e,n){var a=new RegExp("object"===t?'"'+e+'":{//':'"'+e+'":\\[{//',"i").exec(n);return n.split(a[0])[1].concat().split('"')[0]}},{key:"getNote",value:function(t,e){var n="other",a=Object.prototype.toString.call(e);"[object Object]"===a?n="object":"[object Array]"===a&&(n="array");var i=new RegExp('"'+t+z[n].re,"i"),s=new RegExp('"'+t+z[n].re1,"i"),r=i.exec(this.valData)||s.exec(this.valData);if("object"===n)return this.getM(n,t,this.valData);var o="";if("array"===n){var l=new RegExp('"'+t+'":',"i").exec(this.valData);o=this.valData.split(l[0])[1].substr(0,2)}return"[{"===o?this.getM(n,t,this.valData):r?decodeURI(r[1]):""}},{key:"getHtmlReq",value:function(t,e,n){return"| "+e+" |"+G[t].type+" | "+G[t].must+" | "+G[t].default+" | "+this.getNote(e,n[e])+" | "+G[t].limit+" | \n"}},{key:"getHtmlRes",value:function(t,e,n){return"| "+e+" |"+G[t].type+" | "+this.getNote(e,n[e])+" | "+G[t].limit+"  | \n"}},{key:"handleNotObject",value:function(t,e,n,a){t&&1===this.jsonType?this.html+=this.getHtmlReq(e,n,a):t&&2===this.jsonType&&(this.html+=this.getHtmlRes(e,n,a))}},{key:"eachJsonData",value:function(t){var e=t||this.jsonData;for(var n in e){var a=q()(e[n]),i="number"===a||"boolean"===a||"string"===a;if(this.handleNotObject(i,a,n,e),"object"===a&&null!==e[n]){a="[object Object]"===Object.prototype.toString.call(e[n])?"object":"array",this.preLine++,this.arrPre=[];var s="[object Object]"==Object.prototype.toString.call(e[n]),r="[object Object]"==Object.prototype.toString.call(e[n][0]);s||r||this.preLine--;for(var o=0;o<this.preLine;o++)this.arrPre.push("—");var l=this.arrPre.concat("").toString().replace(/\,/g,"");0!=n&&(this.html+="|"+l+" "+n+" | "+G[a].type+" | "+this.getNote(n,e[n])+" | "+G[a].limit+" | \n"),(s||r)&&this.eachJsonData(e[n]),this.preLine--}}}},{key:"handleJson",value:function(){return null!=this.jsonData&&M()(this.jsonData).length>0?(1===this.jsonType?this.html+="\n|名称|必选|类型|默认值|说明|限制长度说明|\n|:----    |:---|:----- |-----   |-----   |-----   |\n":this.html+="\n|名称|类型|说明|限制长度说明|\n|:-------|:-------|:-------|:-------|\n",this.eachJsonData()):this.html+="暂无\n",this.html}}]),t}();function Z(t,e,n){return new Y(t,e,n).handleJson()}function U(t){var e,n={Code:0,Data:function(t){return null!=t.responseParams&&M()(t.responseParams).length>0?t.responseParams:null}(t),Message:""};return"\n**请求参数：**\n"+Z(t.requestParams,1,t.requestJsonStr)+"\n**请求示例：**\n```\n"+(null!=(e=t.requestParams)&&M()(e).length>0?w()(e,null,2):"{}")+" \n\n```\n**返回参数：**\n"+Z(t.responseParams,2,t.responseJsonStr)+" \n\n**返回示例：**\n```\n"+w()(n,null,2)+" \n\n```"}function A(t){var e=[];return e.push(t),B(e)}function B(t){var e=[l,h,v],n="";return t.forEach(function(t){var a=t.id,i="pc"==t.type?1:"mobile"==t.type?2:3;n+=function(t,e){return function(t,e){return"\n### 接口"+e+":"+t.title+" \n\n**简要描述：** \n\n- "+t.title+" \n\n**请求url：** \n\n- `/api/"+t.name+"/"+t.urlName+"` \n\n**请求方式：** \n\n- `"+t.type+"`\n"}(t,e)+U(t)}(e[i-1][a-1],a)}),n}var W=n("162o"),X={data:function(){return{tableStyle:{height:""},dialogTitle:"",dialogHtml:"",dialogVisible:!1,tableData3:[],multipleSelection:[]}},methods:{updateTableHeight:function(){var t=window.innerHeight;this.tableStyle.height=.7*t+"px";var e=this;Object(W.setTimeout)(function(){e.$bus.emit("updateHeight",parseInt(.7*t)+83+"px")},20)},initData:function(){this.tableData3=$({type:"pc"})},_tipSuccess:function(){this.$message({message:"你很厉害喔，恭喜你，生成成功啦",type:"success"})},_tipFail:function(){this.$message.error("还差那么一点，请先选中喔")},check:function(t,e){this.dialogHtml='<pre class="string">'+J(t,e)+"</pre>",this.dialogTitle="查看-【"+e.name+"】接口配置项",this.dialogVisible=!0},handelGeneratorSingle:function(t,e){var n=this;this.tableData3.forEach(function(t){t.id===e.id&&(n._tipSuccess(),n.$bus.emit("generatorContentSingle",A(e)))})},handelGeneratorMulti:function(){var t=[];this.multipleSelection.forEach(function(e){t.push(e)}),t.length?this._tipSuccess():this._tipFail(),this.$bus.emit("generatorContentMulti",B(t)),this.$refs.multipleTable.clearSelection()},handleSelectionChange:function(t){this.multipleSelection=t}},created:function(){this.initData()},mounted:function(){this.updateTableHeight();var t=this;this.$bus.on("selectSearchItem",function(e){t.tableData3=e}),this.$bus.on("handelGeneratorMulti",function(){t.handelGeneratorMulti()}),window.onresize=function(){t.updateTableHeight()}}},K={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"m-tabel",style:t.tableStyle},[n("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:t.tableData3,border:"","tooltip-effect":"dark",height:"100%"},on:{"selection-change":t.handleSelectionChange}},[n("el-table-column",{attrs:{fixed:"",type:"selection",width:"40px"}}),t._v(" "),n("el-table-column",{attrs:{fixed:"",prop:"id",label:"ID",width:"40px"}}),t._v(" "),n("el-table-column",{attrs:{prop:"name",label:"接口名称"}}),t._v(" "),n("el-table-column",{attrs:{prop:"type",label:"所属平台",width:"100px"}}),t._v(" "),n("el-table-column",{attrs:{label:"操作",width:"180px"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{attrs:{size:"mini",type:"success",plain:""},on:{click:function(n){t.check(e.$index,e.row)}}},[t._v("查看")]),t._v(" "),n("el-button",{attrs:{size:"mini",type:"primary",plain:""},on:{click:function(n){t.handelGeneratorSingle(e.$index,e.row)}}},[t._v("生成")])]}}])})],1),t._v(" "),n("el-dialog",{attrs:{title:t.dialogTitle,visible:t.dialogVisible,width:"540px"},on:{"update:visible":function(e){t.dialogVisible=e}}},[n("span",{domProps:{innerHTML:t._s(t.dialogHtml)}}),t._v(" "),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{type:"primary"},on:{click:function(e){t.dialogVisible=!1}}},[t._v("确 定")])],1)])],1)},staticRenderFns:[]};var Q=n("VU/8")(X,K,!1,function(t){n("Ys+C")},"data-v-3c29530f",null).exports,tt={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"m-box",style:t.heightStyle},[t._m(0),t._v(" "),n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.desc,expression:"desc"}],staticStyle:{resize:"none"},style:t.heightStyle,attrs:{maxlength:"200",placeholder:"生成的内容"},domProps:{value:t.desc},on:{input:[function(e){e.target.composing||(t.desc=e.target.value)},t.descInput]}}),t._v(" "),n("div",{staticClass:"btn-copy"},[n("el-button",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:t.desc,expression:"desc",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:t.onCopy,expression:"onCopy",arg:"success"},{name:"clipboard",rawName:"v-clipboard:error",value:t.onError,expression:"onError",arg:"error"}],staticClass:"ml10",attrs:{type:"text",size:"medium"},on:{click:t.copyFn}},[t._v("点击复制")])],1)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("h3",[e("span",{staticClass:"el-breadcrumb__inner",attrs:{role:"link"}},[this._v("接口文档MarkDown格式")])])}]};var et=n("VU/8")({data:function(){return{desc:"",heightStyle:{height:""}}},methods:{descInput:function(){},copyFn:function(){""==this.desc&&this.$notify.error({title:"提示",message:"数据为空，复制失败",duration:2e3})},onCopy:function(t){this.$notify({title:"提示",message:"复制成功",type:"success",duration:2e3})},onError:function(t){this.$notify.error({title:"提示",message:"复制失败",duration:2e3})}},mounted:function(){var t=this;this.$bus.on("generatorContentSingle",function(e){t.desc=e}),this.$bus.on("generatorContentMulti",function(e){t.desc=e}),this.$bus.on("selectSearchItem",function(e){t.desc=""}),this.$bus.on("updateHeight",function(e){t.heightStyle.height=e})}},tt,!1,function(t){n("Yq05")},"data-v-ed460cd2",null).exports,nt={data:function(){return{fullscreenLoading:!0}},components:{Search:T,Table:Q,Result:et},methods:{hideLoading:function(){var t=this;setTimeout(function(){t.fullscreenLoading=!1},1e3)},open:function(){var t='按照以下格式进行配置：<pre class="string">'+D(j)+"</pre>";this.$alert(t,"如何新增公用接口?",{confirmButtonText:"确定",dangerouslyUseHTMLString:!0,callback:function(t){}})}},created:function(){I(),this.hideLoading()}},at={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"m-wrap"},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.fullscreenLoading,expression:"fullscreenLoading"}],staticClass:"el-loading-spinner"},[n("svg",{staticClass:"circular",attrs:{viewBox:"25 25 50 50"}},[n("circle",{staticClass:"path",attrs:{cx:"50",cy:"50",r:"20",fill:"none"}})])]),t._v(" "),n("transition",{attrs:{name:"el-fade-in-linear"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:!t.fullscreenLoading,expression:"!fullscreenLoading"}],staticClass:"m-wrap-con"},[n("header",[n("el-breadcrumb",{staticClass:"title",attrs:{"separator-class":"el-icon-arrow-right"}},[n("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[t._v("首页")]),t._v(" "),n("el-breadcrumb-item",[t._v("公用接口文档生成")])],1),t._v(" "),n("el-button",{staticClass:"btn-add",attrs:{type:"text"},on:{click:t.open}},[t._v("（如何新增公用接口？）")])],1),t._v(" "),n("Search"),t._v(" "),n("Table"),t._v(" "),n("Result")],1)])],1)},staticRenderFns:[]};var it=n("VU/8")(nt,at,!1,function(t){n("JcOM")},"data-v-82475404",null).exports;function st(t){var e,n,a,i,s=/"|(\/\*)|(\*\/)|(\/\/)|\n|\r/g,r=!1,o=!1,l=!1,c=[],u=0,p=0;for(s.lastIndex=0;e=s.exec(t);)a=RegExp.leftContext,i=RegExp.rightContext,o||l||(n=a.substring(p),r||(n=n.replace(/(\n|\r|\s)*/g,"")),c[u++]=n),p=s.lastIndex,'"'!=e[0]||o||l?"/*"!=e[0]||r||o||l?"*/"!=e[0]||r||!o||l?"//"!=e[0]||r||o||l?"\n"!=e[0]&&"\r"!=e[0]||r||o||!l?o||l||/\n|\r|\s/.test(e[0])||(c[u++]=e[0]):l=!1:l=!0:o=!1:o=!0:(n=a.match(/(\\)*$/),r&&n&&n[0].length%2!=0||(r=!r),p--,i=t.substring(p));return c[u++]=i,c.join("")}var rt=[];function ot(){var t={},e=apiConfig;M()(e).forEach(function(n,a,i){var s=function(t){var e=t;for(var n in e){e[n].id=parseInt(n)+1;var a=st(e[n].requestJsonStr),i=""==a?"{}":a;e[n].requestParams=JSON.parse(i),e[n].responseParams=JSON.parse(st(e[n].responseJsonStr))}return e}(e[n].items);t={curIndex:a,nameEn:i[a],nameZn:e[n].name,items:s},rt.push(t)})}function lt(){return rt}var ct="\nvar apiConfig = {\n    'pc-activity': {\n        name: 'pc活动', // 所属平台\n        items: [{\n            title: '获取妖币数量', //接口名称\n            name: 'xx2', //项目名称\n            urlName: 'getYbCount', //接口\n            type: 'get', //接口类型\n            requestJsonStr: `{\n                \"type\": 1 //类型\n            }`, //请求参数\n            responseJsonStr: `{\n                \"YbCount\": 0, //妖币数量\n                \"Rate\": { //Rate对象\n                    \"Rate1\": 1, // Rate1\n                    \"Rate2\": 2 // Rate1\n                },\n                \"List\": [] //列表\n            }` //返回参数\n        }]\n    }\n}",ut=void 0;function pt(t,e){var n={};return ut.forEach(function(a){a.nameZn===e.type&&(n=a.items[t])}),function(t){return"{\n        title: '"+t.title+"', //接口名称\n        name: '"+t.name+"', //项目名称\n        urlName: '"+t.urlName+"', //接口\n        type: '"+t.type+"', //接口类型\n        requestJsonStr: `"+D(t.requestJsonStr)+"`, //请求参数\n        responseJsonStr: `"+D(t.responseJsonStr)+"` //返回参数\n    }"}(n)}function ht(t){var e=[],n=[];ut=lt();var a="";return void 0===t||""===t?(e=ut[0].items,a=ut[0].nameZn):ut.forEach(function(n,i){n.nameEn===t.type&&(e=ut[i].items,a=ut[i].nameZn)}),e.forEach(function(t,e){var i=r()({},{id:parseInt(e)+1,name:t.title,type:a});n.push(i)}),n}function dt(){ot()}var mt={data:function(){return{formInline:{name:"",type:""},tableData:[],options:[]}},mounted:function(){this.options=lt(),this.formInline.type=this.options[0].nameEn},methods:{_updateTableData:function(){this.tableData=ht(this.formInline)},_handleSelect:function(){var t=this,e=[],n=new RegExp(this.formInline.name),a=[],i=[];this._updateTableData();for(var s=0;s<this.tableData.length;s++)a.push(this.tableData[s].name),i.push(this.tableData[s].id);return a.forEach(function(a,s){a.match(n)&&e.push(t.tableData[i[s]-1])}),e},handelGeneratorMulti:function(){this.$bus.emit("handelGeneratorMulti","")},onSubmit:function(){var t=this._handleSelect();this.$bus.emit("selectSearchItem",t)}}},ft={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:t.formInline}},[n("el-form-item",{attrs:{label:"接口名称"}},[n("el-input",{staticClass:"ipt1",attrs:{placeholder:"接口名称"},model:{value:t.formInline.name,callback:function(e){t.$set(t.formInline,"name",e)},expression:"formInline.name"}})],1),n("br"),t._v(" "),n("el-form-item",{attrs:{label:"所属平台"}},[n("el-select",{staticClass:"ipt2",attrs:{placeholder:"所属平台"},model:{value:t.formInline.type,callback:function(e){t.$set(t.formInline,"type",e)},expression:"formInline.type"}},t._l(t.options,function(t){return n("el-option",{key:t.nameZn,attrs:{label:t.nameZn,value:t.nameEn}})}))],1),t._v(" "),n("el-form-item",{staticClass:"btn"},[n("el-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("查询")]),t._v(" "),n("el-button",{attrs:{type:"primary",plain:""},on:{click:t.handelGeneratorMulti}},[t._v("生成")])],1)],1)],1)},staticRenderFns:[]};var vt=n("VU/8")(mt,ft,!1,function(t){n("NFM1")},"data-v-06a45f08",null).exports,bt={number:{type:"number",must:"是",default:0,about:"",limit:"-"},string:{type:"string",must:"是",default:'""',about:"",limit:"-"},boolean:{type:"bool",must:"是",default:!0,about:"",limit:"-"},object:{type:"object",must:"是",default:"{}",about:"-",limit:"-"},array:{type:"array",must:"是",default:"[]",about:"",limit:"-"}},gt={other:{re:'":(?:[^}]*?),(?:/{2})?(.*?)("|})+',re1:'":(?:[^}]*?)(?:/{2})(.*?)("|})+'},object:{re:'":(?:[^}]*?)},(?:/{2})?(.*?)"',re1:'":(?:[^}]*?)}(?:/{2})(.*?)}'},array:{re:'":(?:[^}]*?)],(?:/{2})?(.*?)"',re1:'":(?:[^}]*?)(?:/{2})(.*?)}'}},yt=function(){function t(e,n,a){return H()(this,t),this.html="",this.preLine=0,this.arrPre=[],this.jsonType=n,this.jsonData=e,this.valData=a.replace(/\s+/g,""),this}return F()(t,[{key:"getM",value:function(t,e,n){var a=new RegExp("object"===t?'"'+e+'":{//':'"'+e+'":\\[{//',"i").exec(n);return n.split(a[0])[1].concat().split('"')[0]}},{key:"getNote",value:function(t,e){var n="other",a=Object.prototype.toString.call(e);"[object Object]"===a?n="object":"[object Array]"===a&&(n="array");var i=new RegExp('"'+t+gt[n].re,"i"),s=new RegExp('"'+t+gt[n].re1,"i"),r=i.exec(this.valData)||s.exec(this.valData);if("object"===n)return this.getM(n,t,this.valData);var o="";if("array"===n){var l=new RegExp('"'+t+'":',"i").exec(this.valData);o=this.valData.split(l[0])[1].substr(0,2)}return"[{"===o?this.getM(n,t,this.valData):r?decodeURI(r[1]):""}},{key:"getHtmlReq",value:function(t,e,n){return"| "+e+" |"+bt[t].type+" | "+bt[t].must+" | "+bt[t].default+" | "+this.getNote(e,n[e])+" | "+bt[t].limit+" | \n"}},{key:"getHtmlRes",value:function(t,e,n){return"| "+e+" |"+bt[t].type+" | "+this.getNote(e,n[e])+" | "+bt[t].limit+"  | \n"}},{key:"handleNotObject",value:function(t,e,n,a){t&&1===this.jsonType?this.html+=this.getHtmlReq(e,n,a):t&&2===this.jsonType&&(this.html+=this.getHtmlRes(e,n,a))}},{key:"eachJsonData",value:function(t){var e=t||this.jsonData;for(var n in e){var a=q()(e[n]),i="number"===a||"boolean"===a||"string"===a;if(this.handleNotObject(i,a,n,e),"object"===a&&null!==e[n]){a="[object Object]"===Object.prototype.toString.call(e[n])?"object":"array",this.preLine++,this.arrPre=[];var s="[object Object]"==Object.prototype.toString.call(e[n]),r="[object Object]"==Object.prototype.toString.call(e[n][0]);s||r||this.preLine--;for(var o=0;o<this.preLine;o++)this.arrPre.push("—");var l=this.arrPre.concat("").toString().replace(/\,/g,"");0!=n&&(this.html+="|"+l+" "+n+" | "+bt[a].type+" | "+this.getNote(n,e[n])+" | "+bt[a].limit+" | \n"),(s||r)&&this.eachJsonData(e[n]),this.preLine--}}}},{key:"handleJson",value:function(){return null!=this.jsonData&&M()(this.jsonData).length>0?(1===this.jsonType?this.html+="\n|名称|类型|必选|默认值|说明|限制长度说明|\n|:----    |:---|:----- |-----   |-----   |-----   |\n":this.html+="\n|名称|类型|说明|限制长度说明|\n|:-------|:-------|:-------|:-------|\n",this.eachJsonData()):this.html+="暂无\n",this.html}}]),t}();function xt(t,e,n){return new yt(t,e,n).handleJson()}function St(t){var e,n={Code:0,Data:function(t){return null!=t.responseParams&&M()(t.responseParams).length>0?t.responseParams:null}(t),Message:""};return"\n**请求参数：**\n"+xt(t.requestParams,1,t.requestJsonStr)+"\n**请求示例：**\n```\n"+(null!=(e=t.requestParams)&&M()(e).length>0?w()(e,null,2):"{}")+" \n\n```\n**返回参数：**\n"+xt(t.responseParams,2,t.responseJsonStr)+" \n\n**返回示例：**\n```\n"+w()(n,null,2)+" \n\n```"}function _t(t,e){return function(t,e){return"\n### 接口"+e+":"+t.title+" \n\n**简要描述：** \n\n- "+t.title+" \n\n**请求url：** \n\n- `/api/"+t.name+"/"+t.urlName+"` \n\n**请求方式：** \n\n- `"+t.type+"`\n"}(t,e)+St(t)}function Ct(t){var e=[];return e.push(t),wt(e)}function wt(t){var e=lt(),n="";return t.forEach(function(t){for(var a=t.id,i=0;i<e.length;i++)e[i].nameZn===t.type&&(n+=_t(e[i].items[a-1],a))}),n}var Dt={data:function(){return{tableStyle:{height:""},closeOnClickModal:!1,dialogTitle:"",dialogHtml:"",dialogVisible:!1,tableData3:[],multipleSelection:[]}},methods:{updateTableHeight:function(){var t=window.innerHeight;this.tableStyle.height=.7*t+"px";var e=this;setTimeout(function(){e.$bus.emit("updateHeight",parseInt(.7*t)+83+"px")},20)},initData:function(){this.tableData3=ht()},_tipSuccess:function(){this.$message({message:"你很厉害喔，恭喜你，生成成功啦",type:"success"})},_tipFail:function(){this.$message.error("还差那么一点，请先选中喔")},check:function(t,e){this.dialogHtml='<pre class="string">'+pt(t,e)+"</pre>",this.dialogTitle="查看-【"+e.name+"】接口配置项",this.dialogVisible=!0},handelGeneratorSingle:function(t,e){var n=this;this.tableData3.forEach(function(t){t.id===e.id&&(n._tipSuccess(),n.$bus.emit("generatorContentSingle",Ct(e)))})},handelGeneratorMulti:function(){var t=[];this.multipleSelection.forEach(function(e){t.push(e)}),t.length?this._tipSuccess():this._tipFail(),this.$bus.emit("generatorContentMulti",wt(t)),this.$refs.multipleTable.clearSelection()},handleSelectionChange:function(t){this.multipleSelection=t}},created:function(){this.initData()},mounted:function(){this.updateTableHeight();var t=this;this.$bus.on("selectSearchItem",function(e){t.tableData3=e}),this.$bus.on("handelGeneratorMulti",function(){t.handelGeneratorMulti()}),window.onresize=function(){t.updateTableHeight()}}},jt={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"m-tabel",style:t.tableStyle},[n("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:t.tableData3,border:"","tooltip-effect":"dark",height:"100%"},on:{"selection-change":t.handleSelectionChange}},[n("el-table-column",{attrs:{fixed:"",type:"selection",width:"40px"}}),t._v(" "),n("el-table-column",{attrs:{fixed:"",prop:"id",label:"ID",width:"40px"}}),t._v(" "),n("el-table-column",{attrs:{prop:"name",label:"接口名称"}}),t._v(" "),n("el-table-column",{attrs:{prop:"type",label:"所属平台",width:"100px"}}),t._v(" "),n("el-table-column",{attrs:{label:"操作",width:"180px"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{attrs:{size:"mini",type:"success",plain:""},on:{click:function(n){t.check(e.$index,e.row)}}},[t._v("查看")]),t._v(" "),n("el-button",{attrs:{size:"mini",type:"primary",plain:""},on:{click:function(n){t.handelGeneratorSingle(e.$index,e.row)}}},[t._v("生成")])]}}])})],1),t._v(" "),n("el-dialog",{attrs:{title:t.dialogTitle,visible:t.dialogVisible,"close-on-click-modal":t.closeOnClickModal,width:"540px"},on:{"update:visible":function(e){t.dialogVisible=e}}},[n("span",{domProps:{innerHTML:t._s(t.dialogHtml)}}),t._v(" "),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{type:"primary"},on:{click:function(e){t.dialogVisible=!1}}},[t._v("确 定")])],1)])],1)},staticRenderFns:[]};var Jt=n("VU/8")(Dt,jt,!1,function(t){n("yNYG")},"data-v-6471f9a7",null).exports,$t={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"m-box",style:t.heightStyle},[t._m(0),t._v(" "),n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.desc,expression:"desc"}],staticStyle:{resize:"none"},style:t.heightStyle,attrs:{maxlength:"200",placeholder:"生成的内容"},domProps:{value:t.desc},on:{input:[function(e){e.target.composing||(t.desc=e.target.value)},t.descInput]}}),t._v(" "),n("div",{staticClass:"btn-copy"},[n("el-button",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:t.desc,expression:"desc",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:t.onCopy,expression:"onCopy",arg:"success"},{name:"clipboard",rawName:"v-clipboard:error",value:t.onError,expression:"onError",arg:"error"}],staticClass:"ml10",attrs:{type:"text",size:"medium"},on:{click:t.copyFn}},[t._v("点击复制")])],1)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("h3",[e("span",{staticClass:"el-breadcrumb__inner",attrs:{role:"link"}},[this._v("接口文档MarkDown格式")])])}]};var Nt=n("VU/8")({data:function(){return{desc:"",heightStyle:{height:""}}},methods:{descInput:function(){},copyFn:function(){""==this.desc&&this.$notify.error({title:"提示",message:"数据为空，复制失败",duration:2e3})},onCopy:function(t){this.$notify({title:"提示",message:"复制成功",type:"success",duration:2e3})},onError:function(t){this.$notify.error({title:"提示",message:"复制失败",duration:2e3})}},mounted:function(){var t=this;this.$bus.on("generatorContentSingle",function(e){t.desc=e}),this.$bus.on("generatorContentMulti",function(e){t.desc=e}),this.$bus.on("selectSearchItem",function(e){t.desc=""}),this.$bus.on("updateHeight",function(e){t.heightStyle.height=e})}},$t,!1,function(t){n("NZgn")},"data-v-a2b2d70a",null).exports;function kt(t){return"string"!=typeof t&&(t=w()(t,void 0,2)),(t=t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")).replace(/("(\\u[a-zA-Z0-9]{4}|\\[^u]|[^\\"])*"(\s*:)?|\b(true|false|null)\b|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?)/g,function(t){var e="number";return/^"/.test(t)?e=/:$/.test(t)?"key":"string":/true|false/.test(t)?e="boolean":/null/.test(t)&&(e="null"),'<span class="'+e+'">'+t+"</span>"})}var It='<div class="dialog-left">\n<div class="step-box">\n<span class="step">Step One</span>\n <p>本地编写配置文件<span class="small">（参考右侧格式）</span></p>\n </div>\n <div class="step-box">\n <span class="step">Step Two</span>\n <p>上传配置文件到<span class="small">（/FE_L_192.168.101.116/Linux1/<br/>ossfs/test/P-FastCreateInterfaceDocConfig/）</span>路径下，<br/>覆盖config-data.js文件</p>\n  </div>\n </div>',Rt={data:function(){return{closeOnClickModal:!1,fullscreenLoading:!0,dialogVisible:!1,dialogTitle:"",dialogHtml:""}},components:{Search:vt,Table:Jt,Result:Nt},methods:{hideLoading:function(){var t=this;setTimeout(function(){t.fullscreenLoading=!1},1e3)},open:function(){this.dialogHtml='<div class="dialog-wrap">'+It+'<div class="dialog-right">按照以下格式进行本地编写配置文件：<div class="dialog-box"><pre class="string">'+kt(ct)+"</pre></div><div></div>",this.dialogTitle="如何新增公用接口?",this.dialogVisible=!0}},created:function(){dt(),this.hideLoading()}},Et={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"m-wrap"},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.fullscreenLoading,expression:"fullscreenLoading"}],staticClass:"el-loading-spinner"},[n("svg",{staticClass:"circular",attrs:{viewBox:"25 25 50 50"}},[n("circle",{staticClass:"path",attrs:{cx:"50",cy:"50",r:"20",fill:"none"}})])]),t._v(" "),n("transition",{attrs:{name:"el-fade-in-linear"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:!t.fullscreenLoading,expression:"!fullscreenLoading"}],staticClass:"m-wrap-con"},[n("header",[n("el-breadcrumb",{staticClass:"title",attrs:{"separator-class":"el-icon-arrow-right"}},[n("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[t._v("首页")]),t._v(" "),n("el-breadcrumb-item",[t._v("公用接口文档生成")])],1),t._v(" "),n("el-button",{staticClass:"btn-add",attrs:{type:"text"},on:{click:t.open}},[t._v("（如何新增公用接口？）")]),t._v(" "),n("a",{staticClass:"btn-view",attrs:{target:"_blank",href:"http://webtest.tcy365.org:1505/P-FastCreateInterfaceDocConfig/config-data.js"}},[t._v("查看在线配置文件")])],1),t._v(" "),n("Search"),t._v(" "),n("Table"),t._v(" "),n("Result")],1)]),t._v(" "),n("el-dialog",{attrs:{title:t.dialogTitle,visible:t.dialogVisible,"close-on-click-modal":t.closeOnClickModal,width:"820px",height:"500px"},on:{"update:visible":function(e){t.dialogVisible=e}}},[n("span",{domProps:{innerHTML:t._s(t.dialogHtml)}})])],1)},staticRenderFns:[]};var Tt=n("VU/8")(Rt,Et,!1,function(t){n("oh+b"),n("GXJB")},"data-v-36b2acbf",null).exports;a.default.use(i.a);var Lt=[{path:"/old",component:it,meta:{title:"admin-快速生成接口"}},{path:"/",component:Tt}],Mt=new i.a({routes:Lt}),Pt=n("fC7K"),qt=n("mtWM"),Ot=n.n(qt),Ht=n("//Fk"),Vt=n.n(Ht),Ft=n("Dd8w"),Gt=n.n(Ft),zt=function(t){Ot.a.defaults.timeout=5e3,Ot.a.defaults.headers["Content-Type"]="application/json",Ot.a.interceptors.request.use(function(t){return"post"===t.method?t.data=Gt()({},t.data,{_t:Date.parse(new Date)/1e3}):"get"===t.method&&(t.params=Gt()({_t:Date.parse(new Date)/1e3},t.params)),t},function(t){return Vt.a.reject(t)}),t.prototype.$http=Ot.a},Yt=n("NYxO");a.default.use(Yt.a);var Zt=new Yt.a.Store({state:{},getters:{},mutations:{},actions:{}}),Ut=(n("991W"),n("zL8q")),At=n.n(Ut),Bt=(n("tvR6"),n("wvfG")),Wt=n.n(Bt);zt(a.default),a.default.use(Pt.a),a.default.prototype.$axios=Ot.a,a.default.use(At.a),a.default.use(Wt.a),new a.default({el:"#app",router:Mt,store:Zt})},"991W":function(t,e){},GXJB:function(t,e){},JcOM:function(t,e){},NFM1:function(t,e){},NZgn:function(t,e){},Yq05:function(t,e){},"Ys+C":function(t,e){},"oh+b":function(t,e){},qCZD:function(t,e){},tvR6:function(t,e){},yNYG:function(t,e){}},["7LCn"]);